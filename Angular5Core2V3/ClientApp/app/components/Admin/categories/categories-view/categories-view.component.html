<div class="topMargin">

    <p-card [style]="{width:'1100px'}" styleClass="ui-card-shadow">
        <p-header>
            <div style="text-align:center"><h4><b>{{ getCategoryName() }}</b></h4></div>
        </p-header>

        <!--<p-autoComplete [(ngModel)]="parentCategory" [suggestions]="filteredCategories" (completeMethod)="filterParent($event)" [size]="20"
                        [minLength]="1" placeholder="Category Name" [dropdown]="true" field="DisplayName" forceSelection="true" (onSelect)="setParent($event)">
            <ng-template let-parentCategory pTemplate="item">
                <div class="ui-helper-clearfix" style="border-bottom:1px solid #D5D5D5">
                    <img src="" style="width:32px;display:inline-block;margin:5px 0 2px 5px" />
                    <div style="font-size:18px;float:right;margin:10px 10px 0 0">
                        {{ getCategoryName(parentCategory) }}
                    </div>
                </div>
            </ng-template>
        </p-autoComplete>-->

        <div class="row">
            <div class="col-md-4">
                <h6>Category ID: <b>{{ category.CategoryID }}</b></h6>
            </div>
            <div class="col-md-4">
                <h6>Parent: <b>{{ getParentName() }}</b></h6>
            </div>
            <div class="col-md-4">
                <h6>Date Created: <b>{{ category.DateCreated }}</b></h6>
            </div>
        </div>

    </p-card>
</div>

<div class="topMargin">
    <p-fieldset legend="Details" [toggleable]="true">

        <div class="topMargin">
            <button pButton type="button" (click)="DeleteAllNames()" label="Delete All" class="ui-button-danger" style="text-align:right"></button>
        </div>

        <div class="topMargin">
            <p-table [value]="category.Names">
                <ng-template pTemplate="header">
                    <tr>
                        <th>Action</th>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Language</th>
                    </tr>
                </ng-template>

                <ng-template pTemplate="body" let-Name>
                    <tr>
                        <td><button pButton type="button" icon="fa fa-fw fa-close" (click)="DeleteName(Name)" class="ui-button-danger"></button></td>
                        <td>{{ Name.CategoryNameID }}</td>
                        <td>{{ Name.Name }}</td>
                        <td>{{ Name.Language.Name }}</td>
                    </tr>
                </ng-template>

            </p-table>
        </div>

        <div class="topMargin">
            <button pButton type="button" (click)="DeleteAllDescriptions()" label="Delete All" class="ui-button-danger" style="margin-right:50px;"></button>
        </div>

        <div class="topMargin">
            <p-table [value]="category.Descriptions">
                <ng-template pTemplate="header">
                    <tr>
                        <td>Action</td>
                        <th>ID</th>
                        <th>Description1</th>
                        <th>Description2</th>
                        <th>Description3</th>
                        <th>Language</th>
                    </tr>
                </ng-template>

                <ng-template pTemplate="body" let-Description>
                    <tr>
                        <td><button pButton type="button" icon="fa fa-fw fa-close" (click)="DeleteDescription(Description)" class="ui-button-danger"></button></td>
                        <td>{{ Description.CategoryDescriptionID }}</td>
                        <td>{{ Description.Description1 }}</td>
                        <td>{{ Description.Description2 }}</td>
                        <td>{{ Description.Description3 }}</td>
                        <td>{{ Description.Language.Name }}</td>
                    </tr>
                </ng-template>

            </p-table>
        </div>
    </p-fieldset>
</div>

<div class="topMargin">
    <p-dataView #dv [value]="category.Images" [paginator]="true" [rows]="20" paginatorPosition="both" layout="list">
        <p-header>
            <button pButton type="button" (click)="DeleteAllImages()" label="Delete All" class="ui-button-danger" style="margin-right:50px;"></button>
        </p-header>

        <ng-template let-Image pTemplate="listItem">
            <div class="row" style="padding: 2em;border-bottom: 1px solid #d9d9d9">
                <div class="col-xs-1 col-md-1 vcenter">
                    <button pButton type="button" icon="fa fa-fw fa-close" (click)="DeleteImagesRow(Image)" class="ui-button-danger"></button>
                </div>
                <div class="col-xs-3 col-md-2 vcenter">
                    <img [src]="getImage(Image)" width="120" />
                </div>
                <div class="col-xs-3 col-md-3 vcenter">
                    <table>
                        <tr>
                            <td><b>ID</b></td>
                            <td>{{ Image.CategoryImageID }}</td>
                        </tr>
                        <tr>
                            <td><b>Path 1</b></td>
                            <td>{{ Image.Path1 }}</td>
                        </tr>
                        <tr>
                            <td><b>Path 2</b></td>
                            <td>{{ Image.Path2 }}</td>
                        </tr>
                        <tr>
                            <td><b>Path 3</b></td>
                            <td>{{ Image.Path3 }}</td>
                        </tr>
                    </table>
                </div>
            </div>
        </ng-template>
    </p-dataView>

</div>
